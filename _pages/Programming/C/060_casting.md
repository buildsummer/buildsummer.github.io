---
title: 형변환
date: 2025-02-02 184700
---
---
###1.12 형 변환 Type casting
* 실수 표현
  * 고정 소수점 fixed point
  * 부동 소수점 floating point

* 과학적 표기 Scientific notion
  * $f * b^{a}$
  * f = 가수, b = 밑, a = 지수
  * 컴퓨터는 이진체계이므로 b = 2로 고정
  * 그러므로 부호비트(1비트), f, a를 저장해서 실수를 표현

* 진법간 변환
  * 이진 -> 십진 : 모든 숫자 변환 가능
  * 십진 -> 이진 : 불가(무한소수 발생)
    * 0.1 = $0.0001100110011..._{2}$
  * 무한소수를 메모리에 저장할 수 없으므로 오차 발생
    * ***부동소수점 문제***
    * 반올림해서 할당된 가수 비트에 저장

* 바이어스 처리
  * 지수 (a)를 그대로 저장하지 않고 지수에 $2^{e-1} -1$을 더함 (e는 지수 비트 수)
  * 무조건 양수로 집어넣는 게 크기를 비교하기 수월하기 때문에 더함
  * 4byte의 float형 지수부분이 8bit이므로 가능 지수 범위가 1~254임
    * 가능 지수 범위가 0~255가 아닌 이유는 비정상 수를 표현하기 위해 사전에 규칙을 정해두었기 때문
    * 가수 <> 0, 지수 = 0             -> 비정상 수 = $2^{-127}$ 보다 작은 수
    * 가수 <> 0, 지수 = $2^{e-1} - 1$ -> NaN       = 값을 정할 수 없는 연산 = 0/0, $\infty - \infty$
    * 가수  = 0, 지수 = $2^{e-1} - 1$ -> $\infty$

* 형변환 : (바꾸는 형) 변수이름

```c
#include <stdio.h>

int main() {
    int a;
    double b = 2.4;
    double c, d;
    int e, f;

    a = b;
    printf("%d \n", a); // silent error, 실제로 컴파일러에서 이부분에서 경고를 뱉을 수 있음

    a = (int)b;
    printf("%d \n", a); // silent error, 형변환은 했기에 경고는 없지만 데이터는 소실됨

    e = 5;
    f = 3;

    c = e / f;
    d = (double)e / f;
    printf("형변환 안한 5/3 연산 %f \n", c); // silent error, 실제로 컴파일러에서 이부분에서 경고를 뱉을 수 있음
    printf("형변환   한 5/3 연산 %f \n", d); // silent error, 실제로 컴파일러에서 이부분에서 경고를 뱉을 수 있음

    return 0;
}
```
```text
2 
2 
형변환 안한 5/3 연산 1.000000 
형변환   한 5/3 연산 1.666667 
```